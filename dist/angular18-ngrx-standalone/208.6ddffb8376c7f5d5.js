"use strict";(self.webpackChunkangular18_ngrx_standalone=self.webpackChunkangular18_ngrx_standalone||[]).push([[208],{7208:(w,g,n)=>{n.r(g),n.d(g,{xxxUserRoutes:()=>Z});var c=n(6157),s=n(4438),o=n(9640),f=n(7203),v=n(6441),F=n(4646),$=n(177),m=n(7847),y=n(8648),U=n(2128);const i=(0,o.EQ)({source:U.F,events:{getUsers:(0,o.w5)(),getUsersError:(0,o.w5)(),getUsersSuccess:(0,o.xk)(),selectUser:(0,o.xk)(),showUsers:(0,o.w5)()}});var l=n(2163);let E=(()=>{class t{constructor(e){this.store=e,this.isUsersEmpty$=this.store.select(l.gJ),this.isUsersLoaded$=this.store.select(l.yX),this.isUsersLoading$=this.store.select(l.XH),this.selectedUserId$=this.store.select(l.uZ),this.users$=this.store.select(l.VR)}showUsers(){this.store.dispatch(i.showUsers())}selectUser(e){this.store.dispatch(i.selectUser({userId:e}))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(o.il))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function C(t,a){1&t&&(s.j41(0,"p"),s.EFF(1,"Loading..."),s.k0s())}function j(t,a){1&t&&(s.j41(0,"p"),s.EFF(1,"None found."),s.k0s())}function R(t,a){if(1&t){const e=s.RV6();s.j41(0,"tr",4),s.nI1(1,"async"),s.bIt("click",function(){const h=s.eBV(e).$implicit,d=s.XpG(3);return s.Njj(d.rowClick(h))}),s.j41(2,"td",5),s.EFF(3),s.k0s(),s.j41(4,"td",5),s.EFF(5),s.k0s(),s.j41(6,"td",5),s.EFF(7),s.k0s()()}if(2&t){const e=a.$implicit,r=s.XpG(3);s.AVh("active",s.bMT(1,5,r.selectedUserId$)===e.id),s.R7$(3),s.JRh(e.id),s.R7$(2),s.JRh(e.firstName),s.R7$(2),s.JRh(e.lastName)}}function X(t,a){if(1&t&&(s.j41(0,"section")(1,"h3"),s.EFF(2),s.k0s(),s.j41(3,"table",1)(4,"tr")(5,"th",2),s.EFF(6,"ID"),s.k0s(),s.j41(7,"th",2),s.EFF(8,"First Name"),s.k0s(),s.j41(9,"th",2),s.EFF(10,"Last Name"),s.k0s()(),s.Z7z(11,R,8,7,"tr",3,s.fX1),s.nI1(13,"async"),s.k0s()()),2&t){const e=s.XpG(),r=s.XpG();s.R7$(2),s.JRh(null==e||null==e.contentModel?null:e.contentModel.bodyText),s.R7$(9),s.Dyx(s.bMT(13,1,r.users$))}}function M(t,a){if(1&t&&(s.j41(0,"section")(1,"h2"),s.EFF(2),s.k0s()(),s.DNE(3,C,2,0,"p"),s.nI1(4,"async"),s.nI1(5,"async"),s.DNE(6,j,2,0,"p")(7,X,14,3,"section"),s.nI1(8,"async")),2&t){const e=a,r=s.XpG();s.R7$(2),s.JRh(null==e||null==e.contentModel?null:e.contentModel.pageTitle),s.R7$(),s.vxM(s.bMT(4,3,r.isUsersLoading$)?3:s.bMT(5,5,r.isUsersEmpty$)?6:-1),s.R7$(4),s.vxM(s.bMT(8,7,r.isUsersLoaded$)?7:-1)}}let T=(()=>{class t{constructor(e,r){this.contentFacade=e,this.userFacade=r,this.contentKey="user",this.content$=this.contentFacade.contentByKey$(this.contentKey),this.isUsersEmpty$=this.userFacade.isUsersEmpty$,this.isUsersLoaded$=this.userFacade.isUsersLoaded$,this.isUsersLoading$=this.userFacade.isUsersLoading$,this.selectedUserId$=this.userFacade.selectedUserId$,this.users$=this.userFacade.users$,this.contentFacade.getContent(this.contentKey),this.userFacade.showUsers()}rowClick(e){this.userFacade.selectUser(e.id)}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(y.n),s.rXU(E))}}static{this.\u0275cmp=s.VBU({type:t,selectors:[["xxx-user"]],standalone:!0,features:[s.aNF],decls:4,vars:4,consts:[[3,"contentKey"],[1,"xxx-table"],[1,"xxx-table-cell-header"],[1,"xxx-table-row",3,"active"],[1,"xxx-table-row",3,"click"],[1,"xxx-table-cell"]],template:function(r,h){if(1&r&&(s.j41(0,"main"),s.nrm(1,"xxx-content",0),s.DNE(2,M,9,9),s.nI1(3,"async"),s.k0s()),2&r){let d;s.R7$(),s.FS9("contentKey",h.contentKey),s.R7$(),s.vxM((d=s.bMT(3,2,h.content$))?2:-1,d)}},dependencies:[$.Jj,m.V],encapsulation:2,changeDetection:0})}}return t})();var x=n(8141),I=n(5558),p=n(6354),S=n(9437),K=n(7673),V=n(5964),L=n(6822),O=n(1198),N=n(6679),D=n(299),H=n(1562);let J=(()=>{class t{constructor(e){this.http=e}getUsers(){return this.http.get("https://dummyjson.com/users")}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(H.Qq))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),B=(()=>{class t{constructor(e,r,h,d,z,W){this.actions$=e,this.router=r,this.store=h,this.alertService=d,this.loadingService=z,this.userDataService=W,this.getUsers$=(0,c.EH)(()=>this.actions$.pipe((0,c.gp)(i.getUsers),(0,x.M)(()=>{this.loadingService.loadingOn()}),(0,I.n)(()=>this.userDataService.getUsers().pipe((0,p.T)(u=>i.getUsersSuccess({payload:u})),(0,S.W)(()=>(0,K.of)(i.getUsersError())))))),this.getUsersError$=(0,c.EH)(()=>this.actions$.pipe((0,c.gp)(i.getUsersError),(0,x.M)(()=>{this.loadingService.loadingOff(),this.alertService.showError("Error occurred while fetching users.")})),{dispatch:!1}),this.getUsersSuccess$=(0,c.EH)(()=>this.actions$.pipe((0,c.gp)(i.getUsersSuccess),(0,x.M)(()=>{this.loadingService.loadingOff()})),{dispatch:!1}),this.selectUser$=(0,c.EH)(()=>this.actions$.pipe((0,c.gp)(i.selectUser),(0,x.M)(()=>{this.router.navigateByUrl("/post")})),{dispatch:!1}),this.showUsers$=(0,c.EH)(()=>this.actions$.pipe((0,c.gp)(i.showUsers),(0,L.YQ)(()=>this.store.select(l.yX)),(0,p.T)(([u,P])=>P),(0,V.p)(u=>!u),(0,p.T)(()=>i.getUsers())))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(c.En),s.KVO(O.Ix),s.KVO(o.il),s.KVO(N.U),s.KVO(D.c),s.KVO(J))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();const Y=(0,o.vy)(U.Y,(0,o.on)(i.getUsers,t=>({...t,isUsersLoading:!0,users:[]})),(0,o.on)(i.getUsersError,t=>({...t,isUsersLoading:!1})),(0,o.on)(i.getUsersSuccess,(t,a)=>({...t,isUsersLoading:!1,users:JSON.parse(JSON.stringify(a.payload.users))})),(0,o.on)(i.selectUser,(t,a)=>({...t,selectedUserId:a.userId}))),Z=[{path:"",providers:[(0,s.oKB)(o.md.forFeature(v.jr,F.U),c.Vm.forFeature([f.e]),o.md.forFeature(U.F,Y),c.Vm.forFeature([B]))],children:[{path:"",component:T}]}]}}]);